<!DOCTYPE html>
<html lang="nb">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>How We Roll Report 9B</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }
        .navbar {
            margin: 0;
            padding: 5px;
            font-size: 25px;
            text-align: center;
            background-color: #404c51;
            font-family: Arial, sans-serif;
        }
        ul {}
        ul li {
            display: inline-block;
            margin-right: 10px;
            color: #fff;
        }
        ul li a {
            text-decoration: none;
            color: #fff;
        }
        ul li a:hover {
            color: #bbfcff;
            transition: 0.25s;
        }
        ul li a.active {
            border-bottom: 3px solid #fff;
            padding-bottom: 5px;
        }

    </style>
</head>
<body>
<section class="navbar">
    <ul>
        <li><a href="index.html">Visittkort</a></li>
        <li><a href="how-we-roll.html">How We Roll</a></li>
        <li><a class="active" href="hwr-report.html">HWR Report</a></li>
    </ul>
</section>
<!-- Her skrives alt innhold, som man ønsker å "tegne" på skjermen. -->
<div class="results" id="results">
    <h2>Form Data</h2>
    <pre></pre>
</div>

<div id="debug"></div>
<canvas id="report"></canvas>
<!-- Her skrives alt innhold, som man ønsker å "tegne" på skjermen. -->
<p></p>
Lim inn id: <input type="text" value="" id="timetrxidPASTE" style="width: 400px">

<script>
    <!-- Her skrives kode i JavaScript som "gir liv" til bilde på skjermen. -->
    var timetrxidPASTE=document.getElementById("timetrxidPASTE");

    var canvas = document.getElementById('report');
    var context = canvas.getContext('2d');
    const results = document.querySelector('.results pre');


    timetrxidPASTE.onchange=function () {

        fetch("https://bacit.info/hwr/" +timetrxidPASTE.value+ ".json", {cache: 'no-cache'})
            .then(response => response.json())
            .then(data => {
                console.log(data);
                results.innerText = JSON.stringify(data, null, 2);
                document.querySelector("#debug").innerText = "Fornavn: " + data.navn + "\nGruppe: " + data.gruppe + "\nAlder: " + data.alder;


                context.font = '14px serif';
                context.fillText('Jobbe tidlig', 10, 24);
                context.fillText('Jobbe sent', 210, 24);

                context.fillText('Jobbe sammen', 10, 74);
                context.fillText('Jobbe alene', 210, 74);

                context.beginPath();
                context.moveTo(100, 20);
                context.lineTo(200, 20);
                context.stroke();

                context.beginPath();
                context.moveTo(100, 70);
                context.lineTo(200, 70);
                context.stroke();


                var X = 100 + parseInt(data.dorn, 10);
                var Y = 20;
                var R = 5;
                context.beginPath();
                context.arc(X, Y, R, 0, 2 * Math.PI, false);
                context.fillStyle = "lightgreen";
                context.fill();
                context.lineWidth = 1;
                context.strokeStyle = "black";
                context.stroke();
                context.closePath();

                var X = 100 + parseInt(data.cora, 10);
                var Y = 70;
                var R = 5;
                context.beginPath();
                context.arc(X, Y, R, 0, 2 * Math.PI, false);
                context.fillStyle = "red";
                context.fill();
                context.lineWidth = 1;
                context.strokeStyle = "black";
                context.stroke();
                context.closePath();

            });
    }


</script>
</body>
</html>
